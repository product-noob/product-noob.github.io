---
layout: page
permalink: /tools/json-formatter/
---

<link rel="stylesheet" href="{{ site.baseurl }}/assets/css/tools.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
<script src="{{ site.baseurl }}/assets/js/page-transitions.js" defer></script>

<div class="tools-container">
  <div id="tool-header"></div>

  <div class="json-formatter">
    <div class="input-section">
      <div class="section-header">
        <h3>Input JSON</h3>
        <div class="section-actions">
          <button class="action-button" id="clear-input">Clear</button>
          <button class="action-button" id="copy-input">Copy</button>
          <button class="action-button" id="minify-btn">Minify</button>
        </div>
      </div>
      <textarea id="input-text" class="json-textarea" placeholder="Paste your JSON here..."></textarea>
    </div>

    <div class="action-buttons">
      <button class="action-button primary" id="format-btn">Format JSON</button>
    </div>

    <div class="output-section">
      <div class="section-header">
        <h3>Formatted Output</h3>
        <div class="section-actions">
          <button class="action-button" id="clear-output">Clear</button>
          <button class="action-button" id="copy-output">Copy</button>
        </div>
      </div>
      <div id="output-container" class="json-output">
        <pre><code id="output-text" class="language-json"></code></pre>
      </div>
      <div id="error-message" class="error-message"></div>
    </div>
  </div>
</div>

<script>
  // Initialize tool header using common component
  document.addEventListener('DOMContentLoaded', function() {
    const header = ToolsUI.createToolHeader({
      title: 'JSON Formatter & Validator',
      description: 'Format, validate, and beautify your JSON. Get syntax highlighting and detailed error messages for invalid JSON.'
    });
    document.getElementById('tool-header').appendChild(header);
  });

  // Get DOM elements
  const inputText = document.getElementById('input-text');
  const outputText = document.getElementById('output-text');
  const errorMessage = document.getElementById('error-message');
  const formatBtn = document.getElementById('format-btn');
  const minifyBtn = document.getElementById('minify-btn');
  const clearInputBtn = document.getElementById('clear-input');
  const clearOutputBtn = document.getElementById('clear-output');
  const copyInputBtn = document.getElementById('copy-input');
  const copyOutputBtn = document.getElementById('copy-output');

  // Format JSON with proper indentation
  function formatJSON() {
    try {
      const input = inputText.value.trim();
      if (!input) {
        ToolsUtils.showToast('Please enter JSON to format');
        return;
      }

      // Parse and stringify with indentation
      const parsed = JSON.parse(input);
      const formatted = JSON.stringify(parsed, null, 2);
      
      // Update output with syntax highlighting
      outputText.textContent = formatted;
      hljs.highlightElement(outputText);
      
      // Clear any previous error
      errorMessage.textContent = '';
      errorMessage.style.display = 'none';
      
      ToolsUtils.showToast('JSON formatted successfully');
    } catch (error) {
      // Show error message
      errorMessage.textContent = `Error: ${error.message}`;
      errorMessage.style.display = 'block';
      outputText.textContent = '';
      ToolsUtils.showToast('Invalid JSON');
    }
  }

  // Minify JSON
  function minifyJSON() {
    try {
      const input = inputText.value.trim();
      if (!input) {
        ToolsUtils.showToast('Please enter JSON to minify');
        return;
      }

      // Parse and stringify without spaces
      const parsed = JSON.parse(input);
      const minified = JSON.stringify(parsed);
      
      // Update input with minified version
      inputText.value = minified;
      
      // Clear any previous error
      errorMessage.textContent = '';
      errorMessage.style.display = 'none';
      
      ToolsUtils.showToast('JSON minified successfully');
    } catch (error) {
      errorMessage.textContent = `Error: ${error.message}`;
      errorMessage.style.display = 'block';
      ToolsUtils.showToast('Invalid JSON');
    }
  }

  // Clear input
  function clearInput() {
    inputText.value = '';
    inputText.focus();
  }

  // Clear output
  function clearOutput() {
    outputText.textContent = '';
    errorMessage.textContent = '';
    errorMessage.style.display = 'none';
  }

  // Copy input to clipboard
  async function copyInput() {
    if (!inputText.value) {
      ToolsUtils.showToast('Nothing to copy');
      return;
    }
    await ToolsUtils.copyToClipboard(inputText.value);
  }

  // Copy output to clipboard
  async function copyOutput() {
    if (!outputText.textContent) {
      ToolsUtils.showToast('Nothing to copy');
      return;
    }
    await ToolsUtils.copyToClipboard(outputText.textContent);
  }

  // Add event listeners
  formatBtn.addEventListener('click', formatJSON);
  minifyBtn.addEventListener('click', minifyJSON);
  clearInputBtn.addEventListener('click', clearInput);
  clearOutputBtn.addEventListener('click', clearOutput);
  copyInputBtn.addEventListener('click', copyInput);
  copyOutputBtn.addEventListener('click', copyOutput);

  // Add keyboard shortcuts
  document.addEventListener('keydown', function(event) {
    // Ctrl/Cmd + Enter to format
    if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {
      formatJSON();
    }
  });
</script>

<style>
  .json-formatter {
    max-width: 1200px;
    margin: 0 auto;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    padding: 24px;
  }

  .input-section,
  .output-section {
    margin-bottom: 24px;
  }

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }

  .section-header h3 {
    margin: 0;
    font-size: 18px;
    color: #333;
  }

  .section-actions {
    display: flex;
    gap: 8px;
  }

  .json-textarea {
    width: 100%;
    min-height: 200px;
    padding: 16px;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
    font-size: 14px;
    line-height: 1.5;
    resize: vertical;
    background-color: #f9f9f9;
    transition: all 0.2s ease;
  }

  .json-textarea:focus {
    outline: none;
    border-color: #4183c4;
    box-shadow: 0 0 0 2px rgba(65, 131, 196, 0.2);
    background-color: white;
  }

  .json-output {
    background-color: #282c34;
    border-radius: 8px;
    padding: 16px;
    overflow-x: auto;
  }

  .json-output pre {
    margin: 0;
    padding: 0;
  }

  .json-output code {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace;
    font-size: 14px;
    line-height: 1.5;
  }

  .error-message {
    display: none;
    margin-top: 12px;
    padding: 12px;
    background-color: #ffebee;
    border: 1px solid #ffcdd2;
    border-radius: 8px;
    color: #c62828;
    font-size: 14px;
  }

  .action-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    margin: 24px 0;
  }

  .action-button {
    padding: 12px 24px;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    background-color: #f0f0f0;
    color: #333;
  }

  .action-button.primary {
    background-color: #4183c4;
    color: white;
  }

  .action-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .action-button.primary:hover {
    background-color: #3a76b0;
  }

  .action-button:active {
    transform: translateY(0);
  }

  @media (max-width: 768px) {
    .json-formatter {
      padding: 16px;
    }

    .action-buttons {
      flex-direction: column;
    }

    .action-button {
      width: 100%;
    }

    .section-actions {
      flex-wrap: wrap;
    }
  }
</style> 